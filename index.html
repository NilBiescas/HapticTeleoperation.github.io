<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Creation of a haptic teleorobotics system with the Franka robotic arm and exploration of learning from demonstration techniques</title>
  <meta name="description" content="Haptic teleoperation of a Franka Panda using a Falcon device, plus Learning from Demonstration with GMM/GMR and TP-GMM." />

  <style>
    :root{
      --bg: #0b0f17;
      --panel: #111a2b;
      --panel-2: #0f1626;
      --text: #e8eefc;
      --muted: #b7c3df;
      --line: rgba(232, 238, 252, 0.14);
      --accent: #7aa2ff;
      --accent-2: #8df0d6;
      --shadow: 0 10px 30px rgba(0,0,0,0.35);
      --radius: 18px;
      --maxw: 1100px;
    }
    * { box-sizing: border-box; }
    html { scroll-behavior: smooth; }
    body{
      margin: 0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      background: radial-gradient(1200px 700px at 15% 10%, rgba(122,162,255,0.25), transparent 60%),
                  radial-gradient(900px 600px at 80% 20%, rgba(141,240,214,0.12), transparent 55%),
                  var(--bg);
      color: var(--text);
      line-height: 1.55;
    }
    a{ color: var(--text); text-decoration: none; }
    a:hover{ text-decoration: underline; }
    .wrap{ max-width: var(--maxw); margin: 0 auto; padding: 28px 20px 64px; }

    /* Top nav */
    .nav{
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 18px;
      padding: 14px 16px;
      border: 1px solid var(--line);
      background: rgba(17,26,43,0.65);
      backdrop-filter: blur(10px);
      border-radius: 999px;
      box-shadow: var(--shadow);
      position: sticky;
      top: 14px;
      z-index: 10;
    }
    .brand{
      display: flex;
      align-items: center;
      gap: 10px;
      white-space: nowrap;
    }
    .dot{
      width: 10px;
      height: 10px;
      border-radius: 999px;
      background: linear-gradient(135deg, var(--accent), var(--accent-2));
      box-shadow: 0 0 0 5px rgba(122,162,255,0.12);
    }
    .brand strong{ font-size: 14px; letter-spacing: 0.4px; }
    .navlinks{
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      justify-content: flex-end;
    }
    .pill{
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 8px 12px;
      border: 1px solid var(--line);
      border-radius: 999px;
      background: rgba(15,22,38,0.5);
      font-size: 13px;
      color: var(--muted);
    }
    .pill:hover{ color: var(--text); border-color: rgba(232,238,252,0.25); }

    /* Hero */
    .hero{
      margin-top: 26px;
      padding: 34px 26px;
      border: 1px solid var(--line);
      background: linear-gradient(180deg, rgba(17,26,43,0.78), rgba(15,22,38,0.65));
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow: hidden;
      position: relative;
    }
    .hero:before{
      content:"";
      position: absolute;
      inset: -40px -40px auto auto;
      width: 240px;
      height: 240px;
      background: radial-gradient(circle at 30% 30%, rgba(122,162,255,0.35), transparent 60%);
      transform: rotate(12deg);
      pointer-events: none;
    }
    h1{
      margin: 0 0 10px;
      font-size: clamp(26px, 3.2vw, 44px);
      line-height: 1.12;
      letter-spacing: -0.6px;
    }
    .sub{
      margin: 0;
      color: var(--muted);
      max-width: 80ch;
      font-size: 15px;
    }
    .kpi{
      margin-top: 18px;
      display: grid;
      gap: 12px;
      grid-template-columns: repeat(3, minmax(0, 1fr));
    }
    .kpi .card{
      border: 1px solid var(--line);
      background: rgba(15,22,38,0.55);
      border-radius: 14px;
      padding: 14px 14px;
    }
    .kpi .card b{ display:block; font-size: 13px; margin-bottom: 6px; }
    .kpi .card span{ color: var(--muted); font-size: 13px; }

    /* Sections */
    section{
      margin-top: 22px;
      padding: 22px 18px;
      border: 1px solid var(--line);
      background: rgba(17,26,43,0.50);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
    }
    section h2{
      margin: 0 0 10px;
      font-size: 20px;
      letter-spacing: -0.2px;
    }
    .grid{
      display: grid;
      gap: 14px;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      align-items: start;
    }
    .box{
      padding: 14px 14px;
      border-radius: 14px;
      border: 1px solid var(--line);
      background: rgba(15,22,38,0.55);
    }
    .box h3{
      margin: 0 0 6px;
      font-size: 15px;
    }
    .box p, .box li{ color: var(--muted); }
    ul{ margin: 10px 0 0; padding-left: 18px; }
    code, pre{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 12.5px;
    }
    pre{
      margin: 12px 0 0;
      padding: 12px;
      border-radius: 14px;
      border: 1px solid var(--line);
      background: rgba(7,10,16,0.65);
      overflow: auto;
      color: #d9e6ff;
    }

    /* Timeline */
    .timeline{
      display: grid;
      gap: 12px;
      margin-top: 10px;
    }
    .titem{
      display: grid;
      grid-template-columns: 120px 1fr;
      gap: 12px;
      padding: 12px;
      border: 1px solid var(--line);
      border-radius: 14px;
      background: rgba(15,22,38,0.55);
    }
    .tdate{
      color: var(--text);
      font-size: 13px;
      opacity: 0.95;
      white-space: nowrap;
    }
    .tdesc{
      color: var(--muted);
      font-size: 13px;
    }

    /* Videos */
    .videos{
      display: grid;
      gap: 14px;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      margin-top: 12px;
    }
    .vcard{
      border: 1px solid var(--line);
      border-radius: 16px;
      background: rgba(15,22,38,0.55);
      overflow: hidden;
    }
    .vhead{
      padding: 12px 12px 10px;
      border-bottom: 1px solid var(--line);
    }
    .vhead b{ display:block; font-size: 14px; }
    .vhead span{ display:block; margin-top: 4px; color: var(--muted); font-size: 13px; }
    video{
      width: 100%;
      height: auto;
      display: block;
      background: #000;
    }

    /* Footer */
    footer{
      margin-top: 22px;
      color: var(--muted);
      font-size: 13px;
      padding: 16px 4px 0;
      opacity: 0.95;
    }

    /* Responsive */
    @media (max-width: 900px){
      .kpi{ grid-template-columns: 1fr; }
      .grid{ grid-template-columns: 1fr; }
      .videos{ grid-template-columns: 1fr; }
      .titem{ grid-template-columns: 1fr; }
      .nav{ border-radius: 18px; }
    }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="nav">
      <div class="brand">
        <span class="dot"></span>
        <strong>RMIL Project</strong>
      </div>

      <div class="navlinks" aria-label="Page sections">
        <a class="pill" href="#overview">Overview</a>
        <a class="pill" href="#system">System</a>
        <a class="pill" href="#teleop">Teleoperation</a>
        <a class="pill" href="#feedback">Force feedback</a>
        <a class="pill" href="#lfd">Learning from demonstration</a>
        <a class="pill" href="#videos">Videos</a>
        <a class="pill" href="#conclusion">Conclusion</a>
      </div>
    </div>

    <header class="hero" id="top">
      <h1>Creation of a haptic teleorobotics system with the Franka robotic arm and exploration of learning from demonstration techniques</h1>
      <p class="sub">
        We built a leader, follower setup where a Falcon haptic device controls a Franka Panda robot in real time.
        The operator can command position, orientation, and the gripper, and can feel basic contact through force feedback.
        Then we used Learning from Demonstration to learn and reproduce trajectories, first with GMM plus GMR, then with TP-GMM to generalize across task frames.
      </p>

      <div class="kpi" role="list">
        <div class="card" role="listitem">
          <b>Remote control</b>
          <span>Teleoperation with workspace adjustment, gripper control, and orientation control.</span>
        </div>
        <div class="card" role="listitem">
          <b>Haptic feedback</b>
          <span>Force estimates from the robot state, filtered to reduce noise.</span>
        </div>
        <div class="card" role="listitem">
          <b>LfD</b>
          <span>Trajectory learning with GMM/GMR, then TP-GMM for new reference frames.</span>
        </div>
      </div>
    </header>

    <section id="overview">
      <h2>Project goal</h2>
      <div class="grid">
        <div class="box">
          <h3>What we wanted</h3>
          <ul>
            <li>Control a robot arm remotely with a haptic device, in a stable and usable way.</li>
            <li>Support precise manipulation: position, orientation, and gripper actions.</li>
            <li>Add basic force feedback so the operator can feel contact.</li>
            <li>Record demonstrations and learn trajectories that can be reproduced and adapted.</li>
          </ul>
        </div>

        <div class="box">
          <h3>Why it matters</h3>
          <ul>
            <li>Teleoperation is useful when autonomy is risky, or when you need high precision.</li>
            <li>Learning from Demonstration reduces manual programming effort for complex tasks.</li>
            <li>Generalization lets the robot reuse skills in new setups and new task frames.</li>
          </ul>
        </div>
      </div>

      <div class="timeline" aria-label="Progress timeline">
        <div class="titem">
          <div class="tdate">15.07.2025</div>
          <div class="tdesc">Connected to the robot with libfranka and controlled it using a keyboard example controller.</div>
        </div>
        <div class="titem">
          <div class="tdate">22.07.2025</div>
          <div class="tdesc">Connected the haptic device through FrankaROS and controlled the robot with a Cartesian impedance controller.</div>
        </div>
        <div class="titem">
          <div class="tdate">29.07.2025</div>
          <div class="tdesc">Added workspace adjustment, fast and slow modes, plus gripper actions for move and grasp.</div>
        </div>
        <div class="titem">
          <div class="tdate">05.08.2025</div>
          <div class="tdesc">Added orientation control with a button-held rotation mode and dominant-axis selection.</div>
        </div>
        <div class="titem">
          <div class="tdate">12.08.2025</div>
          <div class="tdesc">Implemented Learning from Demonstration with GMM/GMR and later TP-GMM for better generalization.</div>
        </div>
      </div>
    </section>

    <section id="system">
      <h2>System setup</h2>
      <div class="grid">
        <div class="box">
          <h3>Leader, follower architecture</h3>
          <p>
            We used a two-PC setup with ROS networking.
            PC1 reads the Falcon haptic device and publishes commands, PC2 runs the robot control stack and forwards commands to the Franka Panda over TCP/IP.
          </p>
          <ul>
            <li><b>Leader side:</b> Falcon device, ROS client node</li>
            <li><b>Follower side:</b> ROS master and control node, Franka ROS interface</li>
          </ul>
        </div>

        <div class="box">
          <h3>Core idea</h3>
          <p>
            The haptic device sends target motion commands.
            The robot executes them through an impedance controller so motion stays smooth, and contact does not cause unstable behavior.
          </p>
          <pre><code>Leader (Falcon)  →  ROS topics  →  Follower (Robot control)  →  Franka Panda</code></pre>
        </div>
      </div>
    </section>

    <section id="teleop">
      <h2>Teleoperation controls</h2>

      <div class="grid">
        <div class="box">
          <h3>Position control</h3>
          <p>
            We used Cartesian impedance control for end-effector position.
            Commands come in as a velocity, then integrate into a desired position.
          </p>
          <ul>
            <li>Controller output is converted to joint torques through the robot Jacobian.</li>
            <li>Command stream comes from a ROS topic (example: <code>LFcommand</code>).</li>
          </ul>
        </div>

        <div class="box">
          <h3>Orientation control</h3>
          <p>
            Orientation control is also impedance-based, but uses quaternion math to compute the orientation error and desired angular velocity.
            Commands can be sent on a separate ROS topic (example: <code>OFcommand</code>).
          </p>
          <ul>
            <li>Hold a button to enter rotation mode.</li>
            <li>Rotate around roll, pitch, and yaw, and only apply the dominant axis to keep it stable.</li>
          </ul>
        </div>

        <div class="box">
          <h3>Workspace adjustment</h3>
          <p>
            The Falcon workspace is small, but the robot workspace is large.
            To avoid “tiny hand motion, huge robot motion”, we added a clutch style strategy.
          </p>
          <ul>
            <li><b>Button 0 (position):</b> long press to move, short press toggles fast and slow mode.</li>
            <li><b>Button 1 (orientation):</b> long press to rotate, no press means hold still.</li>
          </ul>
        </div>

        <div class="box">
          <h3>Gripper control</h3>
          <p>
            We used the Franka gripper actions.
            Two buttons move the fingers in small steps, and a combined press triggers a grasp.
          </p>
          <ul>
            <li><b>Button 2:</b> close by a small step</li>
            <li><b>Button 3:</b> open by a small step</li>
            <li><b>Button 2 + 3:</b> grasp action</li>
          </ul>
        </div>
      </div>
    </section>

    <section id="feedback">
      <h2>Force feedback</h2>
      <div class="grid">
        <div class="box">
          <h3>How we estimated force</h3>
          <p>
            We did not use a dedicated force sensor.
            Instead, we used the robot’s estimated external wrench at the end-effector from the robot state (for example, <code>O_F_ext_hat_K</code>).
          </p>
          <ul>
            <li>It is noisy, so we applied a threshold filter.</li>
            <li>After filtering, contact becomes noticeable on the haptic device.</li>
          </ul>
        </div>

        <div class="box">
          <h3>What this enables</h3>
          <p>
            With basic feedback, the operator can “feel” when the robot touches a surface.
            This is not perfect, but it is a useful starting point for safer manipulation.
          </p>
          <pre><code>Robot state forces → filter → ROS topic (example: FLfeedback) → haptic feedback</code></pre>
        </div>
      </div>
    </section>

    <section id="lfd">
      <h2>Learning from Demonstration</h2>

      <div class="grid">
        <div class="box">
          <h3>Data collection</h3>
          <p>
            We recorded demonstrations by teleoperating the robot from an initial pose.
            We stored position and velocity along x, y, and z over time.
          </p>
          <ul>
            <li>Each demo is a trajectory of paired samples: (position, velocity).</li>
            <li>This turns teleoperation into a data source for learning.</li>
          </ul>
        </div>

        <div class="box">
          <h3>GMM + GMR</h3>
          <p>
            We modeled the joint distribution of position and velocity with a Gaussian Mixture Model (GMM).
            Then we used Gaussian Mixture Regression (GMR) to compute a desired velocity given the current position.
          </p>
          <ul>
            <li>GMM parameters were learned with EM.</li>
            <li>We used BIC to pick a good number of mixture components.</li>
          </ul>
        </div>

        <div class="box">
          <h3>Why TP-GMM</h3>
          <p>
            Plain GMM plus GMR does not generalize well when the task reference frame changes.
            We used Task-Parameterized GMM to encode the task in multiple frames.
          </p>
          <ul>
            <li>Task frames describe situations in the environment.</li>
            <li>This improves extrapolation and reuse across setups.</li>
          </ul>
        </div>

        <div class="box">
          <h3>TP-GMM reproduction</h3>
          <p>
            During reproduction we merge Gaussians across task parameters, transform them to the new situation, then apply GMR again.
            In the final experiments, we collected multiple trajectories with different end frames and generated a new one.
          </p>
          <ul>
            <li>End result: better trajectory generation in new frames.</li>
            <li>Still sensitive to parameter choices and to how task frames are defined.</li>
          </ul>
        </div>
      </div>
    </section>

    <section id="videos">
      <h2>Demo videos</h2>
      <p class="sub">
        Add your videos into <code>assets/videos/</code> using the filenames below.
        When the files exist, the players will work automatically.
      </p>

      <div class="videos">
        <div class="vcard">
          <div class="vhead">
            <b>Video 1: Teleoperation overview</b>
            <span>Falcon device controlling the Franka Panda through ROS and Franka ROS.</span>
          </div>
          <video controls preload="metadata">
            <source src="assets/videos/video1.mp4" type="video/mp4" />
            Your browser does not support the video tag.
          </video>
        </div>

        <div class="vcard">
          <div class="vhead">
            <b>Video 2: Grasping a battery</b>
            <span>Position control plus gripper actions to pick and grasp an object.</span>
          </div>
          <video controls preload="metadata">
            <source src="assets/videos/video2.mp4" type="video/mp4" />
            Your browser does not support the video tag.
          </video>
        </div>

        <div class="vcard">
          <div class="vhead">
            <b>Video 3: Orientation control</b>
            <span>Button-held rotation mode, dominant axis selection for stability.</span>
          </div>
          <video controls preload="metadata">
            <source src="assets/videos/video3.mp4" type="video/mp4" />
            Your browser does not support the video tag.
          </video>
        </div>

        <div class="vcard">
          <div class="vhead">
            <b>Video 4: Learning from Demonstration with GMM + GMR</b>
            <span>Reproduced trajectory from a small set of demonstrations.</span>
          </div>
          <video controls preload="metadata">
            <source src="assets/videos/video4.mp4" type="video/mp4" />
            Your browser does not support the video tag.
          </video>
        </div>

        <div class="vcard">
          <div class="vhead">
            <b>Video 5: TP-GMM generalization</b>
            <span>Reproduction in a new task frame, showing better generalization.</span>
          </div>
          <video controls preload="metadata">
            <source src="assets/videos/video5.mp4" type="video/mp4" />
            Your browser does not support the video tag.
          </video>
        </div>

        <div class="vcard">
          <div class="vhead">
            <b>Optional: Add more</b>
            <span>If you have more clips, duplicate a card and point to video6.mp4, video7.mp4, etc.</span>
          </div>
          <div style="padding:12px;color:var(--muted);">
            Tip: keep videos small so GitHub Pages loads fast.
            MP4 with H.264 works in most browsers.
          </div>
        </div>
      </div>
    </section>

    <section id="conclusion">
      <h2>Conclusion and next steps</h2>
      <div class="grid">
        <div class="box">
          <h3>What we achieved</h3>
          <ul>
            <li>Remote control of the Franka Panda with a Falcon haptic device.</li>
            <li>Workspace adjustment without interrupting the task.</li>
            <li>Position, orientation, and gripper control, plus basic force feedback.</li>
            <li>LfD pipeline for trajectory learning and generalization (GMM/GMR and TP-GMM).</li>
          </ul>
        </div>

        <div class="box">
          <h3>Limitations and future work</h3>
          <ul>
            <li>Gripper force still needs manual tuning for objects with different weights.</li>
            <li>No vision sensor yet, so the operator still needs a direct view of the robot.</li>
            <li>LfD does not handle dynamic environments, and task frames are manual.</li>
            <li>Next: a haptic device with rotation, vision integration, and more adaptive grasping.</li>
          </ul>
        </div>
      </div>
    </section>

    <footer>
      <div>
        <b>Authors:</b> Nil Biescas, Yisheng Sun, Qingping Hu
      </div>
      <div style="margin-top:6px;">
        Replace this footer with your preferred contact info before publishing.
      </div>
    </footer>
  </div>
</body>
</html>
